<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Counter Test</title>
  <style>
    .popover { display: none; }
    .popover.show { display: block; }
  </style>
</head>
<body>
  <div class="lives">
    <h1>Lives: 1</h1>
  </div>
  <div class="points">
    <h1>Points: 0</h1>
  </div>

  <button popovertarget="myPopover">Tile 1</button>
  <div id="myPopover" class="popover">
    <button class="close-subtract">Wrong</button>
    <button class="close-add">Right</button>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      let livesCounter = 1;
      let pointsCounter = 0;

      const livesDisplay = document.querySelector('.lives h1');
      const pointsDisplay = document.querySelector('.points h1');

      livesDisplay.textContent = `Lives: ${livesCounter}`;
      pointsDisplay.textContent = `Points: ${pointsCounter}`;

      const buttons = document.querySelectorAll('[popovertarget]');
      buttons.forEach(btn => {
        const targetId = btn.getAttribute('popovertarget');
        const popover = document.getElementById(targetId);
        if (!popover) return;

        btn.addEventListener('click', () => {
          document.querySelectorAll('.popover.show').forEach(p => {
            if (p !== popover) p.classList.remove('show');
          });
          popover.classList.toggle('show');
        });

        const wrongBtn = popover.querySelector('.close-subtract');
        const rightBtn = popover.querySelector('.close-add');

        if (wrongBtn) {
          wrongBtn.addEventListener('click', () => {
            livesCounter -= 1;
            livesDisplay.textContent = `Lives: ${livesCounter}`;
            console.log("Lives:", livesCounter);
            popover.classList.remove('show');
          });
        }

        if (rightBtn) {
          rightBtn.addEventListener('click', () => {
            pointsCounter += 1;
            pointsDisplay.textContent = `Points: ${pointsCounter}`;
            console.log("Points:", pointsCounter);
            popover.classList.remove('show');
          });
        }
      });
    });
  </script>
</body>
</html>
